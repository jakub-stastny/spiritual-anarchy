import { $APP, shadow$provide, $jscomp } from "./compiler.js";
import "./node.js";
const shadow_esm_import = function(x) { return import(x) };
import*as esm_import$fs from"fs";import*as esm_import$path from"path";var WG,XG,YG,lH,mH,wH,xH,yH,GH,HH,qH,vH,BH;$APP.VG=function(a,b){return $APP.qa(a,b)};WG=function(a,b){a.sort(b||$APP.Ba)};XG=function(a,b){const c=Array(a.length);for(let e=0;e<a.length;e++)c[e]={index:e,value:a[e]};const d=b||$APP.Ba;WG(c,function(e,f){return d(e.value,f.value)||e.index-f.index});for(b=0;b<a.length;b++)a[b]=c[b].value};YG=function(){};
$APP.ZG=function(a){return null!=a?a.D&512||$APP.Oc===a.Ce?!0:a.D?!1:$APP.cb($APP.yb,a):$APP.cb($APP.yb,a)};$APP.$G=function(a){return $APP.ee(a)||!1};$APP.aH=function(a){return"number"===typeof a};$APP.bH=function(){this.C=[]};$APP.cH=function(a){return $APP.A.g(a,$APP.ie)?$APP.ie:function(b,c){var d=a.g?a.g(b,c):a.call(null,b,c);return"number"===typeof d?d:$APP.r(d)?-1:$APP.r(a.g?a.g(c,b):a.call(null,c,b))?1:0}};$APP.dH=function(a){$APP.pi("\n");return $APP.fe.g(a,$APP.Ga),null};
$APP.eH=function(a,b){return(null!=a?$APP.Oc===a.Hc||(a.wd?0:$APP.cb(YG,a)):$APP.cb(YG,a))?$APP.Db(a,b):null!=a&&$APP.ZG(a)&&$APP.he(a,b)?new $APP.Ig(b,$APP.fe.g(a,b),null):null};$APP.fH=function(a,b){return new $APP.I(null,2,5,$APP.N,[$APP.gs.g(a,b),$APP.hs.g(a,b)],null)};$APP.gH=function(a,b){this.f=a;this.value=b;this.D=2147516416;this.M=1};$APP.hH=function(a){return Math.floor(Math.random()*a)};
$APP.iH=function(){function a(){return $APP.hH(16).toString(16)}var b=(8|3&$APP.hH(16)).toString(16);return new $APP.nj([$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),"-",$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),"-4",$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),"-",$APP.t.h(b),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),"-",$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),
$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a()),$APP.t.h(a())].join("").toLowerCase())};$APP.jH=function(a){return a instanceof Error?a.message:null};$APP.kH=function(a){return $APP.Ir.g(a,/\n|\r\n/)};lH=function(a,b){return $APP.r($APP.r(b)?$APP.Qh.g(b,""):b)?$APP.Em(a,$APP.Kk(b)):null};mH=function(a,b){return $APP.Ef(function(c){c=esm_import$path.resolve(a,[$APP.t.h(b),".",$APP.t.h(c)].join(""));return $APP.r(esm_import$fs.existsSync(c))?c:null},new $APP.I(null,2,5,$APP.N,["cljc","cljs"],null))};
$APP.pH=function(a){var b=$APP.Zj($APP.Zj($APP.t.h(a),"-","_"),".","/");return $APP.Ef(function(c){return mH(c,b)},$APP.nH.g($APP.u($APP.oH),new $APP.I(null,2,5,$APP.N,[".","src"],null)))};
wH=function(a,b){b=$APP.jf(b);var c=$APP.fe.g(b,$APP.Jr);a=$APP.jp($APP.hp(a),$APP.iu);if($APP.be(a)&&$APP.A.g($APP.Dj,$APP.y(a))){a=$APP.x(a);$APP.y(a);a=$APP.z(a);var d=$APP.y(a);a=$APP.z(a);a=$APP.Ef(function(k){var l=$APP.B.j(k,0,null);k=$APP.B.j(k,1,null);return $APP.be(l)&&$APP.A.g(qH,$APP.y(l))?new $APP.I(null,2,5,$APP.N,[$APP.cd(l),k],null):null},$APP.rH.j(2,1,a));var e=$APP.B.j(a,0,null),f=$APP.B.j(a,1,null);return $APP.r(e)?shadow_esm_import("./compiler.sci.js").then(function(){var k=$APP.sH.h($APP.u($APP.tH));
return $APP.ne.j(function(l,m){return l.then(function(){var h=$APP.x(m),p=$APP.y(h);h=$APP.z(h);h=$APP.jf(h);var q=$APP.fe.g(h,$APP.Er),v=$APP.fe.g(h,$APP.Fr);return Promise.resolve(function(){var D=function(){var O=new $APP.G(null,$APP.jF,new $APP.G(null,new $APP.G(null,$APP.Mj,new $APP.G(null,p,null,1,null),2,null),null,1,null),2,null);return $APP.r(f)?$APP.R.g(O,new $APP.I(null,1,5,$APP.N,[$APP.uH],null)):O}();k.h?k.h(D):k.call(null,D);var J=function(){var O=$APP.S.h($APP.x($APP.R.g(new $APP.G(null,
vH,null,1,null),new $APP.G(null,$APP.S.h($APP.x($APP.R.g(new $APP.G(null,$APP.Mj,null,1,null),new $APP.G(null,p,null,1,null)))),null,1,null))));return k.h?k.h(O):k.call(null,O)}();D=$APP.Kh(J);J=$APP.Oh(J);J=$APP.ui.g($APP.od,J);return $APP.bi(D,J)}()).then(function(D){return $APP.Wi.g(c,function(J){J=$APP.Yu(J,new $APP.I(null,2,5,$APP.N,[$APP.Ft,p],null),D);J=$APP.r(v)?$APP.Yu(J,new $APP.I(null,3,5,$APP.N,[d,$APP.Mr,v],null),p):J;return $APP.r(q)?$APP.Yu(J,new $APP.I(null,2,5,$APP.N,[d,$APP.Kr],
null),$APP.bi(q,$APP.Lr.h(p))):J})})})},Promise.resolve(null),e)}):null}return null};xH=function(a){var b=$APP.Rh.j;var c=$APP.Jr.h(a);c=$APP.r(c)?c:$APP.Vi.h(new $APP.n(null,1,[$APP.to,$APP.py],null));return b.call($APP.Rh,a,$APP.Jr,c)};yH=function(a,b){var c=xH(b);return Promise.resolve(wH(a,c)).then(function(){return $APP.vu(a,c,null)})};
$APP.zH=function(a,b){return $APP.ne.j(function(c,d){a:{var e=esm_import$path.resolve(d).split(esm_import$path.sep);for(var f=esm_import$path.resolve(a).split(esm_import$path.sep);;){var k=$APP.Qd(e);if(k){e=k;break a}if(k=$APP.x(f))if(k=$APP.A.g($APP.y(e),$APP.y(f)))e=$APP.cd(e),f=$APP.cd(f);else{e=k;break a}else{e=k;break a}}}return e?$APP.ld(esm_import$path.relative(d,a)):c},a,b)};
$APP.FH=function(a){a=$APP.jf(a);var b=$APP.fe.g(a,$APP.AH),c=$APP.fe.g(a,BH),d=$APP.fe.g(a,$APP.CH),e=$APP.fe.g(a,$APP.DH),f=$APP.fe.j(a,$APP.EH,"");c=$APP.r(c)?c:esm_import$fs.readFileSync(b,"utf-8");a=xH(a);return yH(c,a).then(function(k){k=$APP.jf(k);var l=$APP.fe.g(k,$APP.uu),m=$APP.fe.g(k,$APP.zq),h=$APP.nH.g($APP.u($APP.oH),new $APP.I(null,2,5,$APP.N,[".","src"],null)),p=esm_import$path,q=p.resolve;$APP.r(d)?h=d:(h=$APP.zH(b,h),$APP.r(m)?m=".jsx":(m=$APP.r(e)?[".",$APP.Zj(e,/^\./,"")].join(""):
null,m=$APP.r(m)?m:".mjs"),h=$APP.Zj(h,/.clj(s|c)$/,m));p=q.call(p,f,h);q=esm_import$path.dirname(p);$APP.r(esm_import$fs.existsSync(q))||esm_import$fs.mkdirSync(q,{recursive:!0});if(!$APP.r(esm_import$fs.existsSync(q)))throw Error("File not found, make sure output-dir is a valid path: ",new $APP.n(null,2,[$APP.EH,f,$APP.CH,p],null));esm_import$fs.writeFileSync(p,l,"utf-8");return $APP.Rh.j(k,$APP.CH,p)})};GH=function(a){return $APP.wu.l(a,$APP.F([$APP.xu,!0]))};
HH=function(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new $APP.Xc(f,0,null)}return c.call(this,e)}function c(d){d=$APP.Xu.g(GH,d);d=$APP.Gf.g(a,d);return d instanceof Promise?d.then($APP.rv):$APP.rv(d)}b.m=0;b.o=function(d){d=$APP.x(d);return c(d)};b.l=c;return b}()};$APP.bH.prototype.add=function(a){return this.C.push(a)};$APP.bH.prototype.size=function(){return this.C.length};
$APP.bH.prototype.clear=function(){return this.C=[]};$APP.bH.prototype.fd=function(){return 0===this.C.length};$APP.IH=function IH(a){switch(arguments.length){case 1:return IH.h(arguments[0]);case 2:return IH.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.h(arguments.length)].join(""));}};$APP.IH.h=function(a){return $APP.IH.g($APP.ie,a)};$APP.IH.g=function(a,b){if($APP.x(b)){var c=$APP.Ze.h?$APP.Ze.h(b):$APP.Ze.call(null,b);XG(c,$APP.cH(a));return $APP.Md($APP.x(c),$APP.Nd(b))}return $APP.bd};
$APP.IH.m=2;$APP.JH=function JH(a){switch(arguments.length){case 2:return JH.g(arguments[0],arguments[1]);case 3:return JH.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.h(arguments.length)].join(""));}};$APP.JH.g=function(a,b){return $APP.JH.j(a,$APP.ie,b)};$APP.JH.j=function(a,b,c){return $APP.IH.g(function(d,e){d=a.h?a.h(d):a.call(null,d);e=a.h?a.h(e):a.call(null,e);var f=$APP.cH(b);return f.g?f.g(d,e):f.call(null,d,e)},c)};$APP.JH.m=3;
$APP.KH=function KH(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return KH.l(0<c.length?new $APP.Xc(c.slice(0),0,null):null)};$APP.KH.l=function(a){$APP.Gi(a,$APP.Ra());return $APP.r($APP.Sa)?$APP.dH($APP.Ra()):null};$APP.KH.m=0;$APP.KH.o=function(a){return this.l($APP.x(a))};$APP.LH=function LH(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return LH.l(0<c.length?new $APP.Xc(c.slice(0),0,null):null)};
$APP.LH.l=function(a){$APP.Gi(a,$APP.Rh.j($APP.Ra(),$APP.Ia,!1));return $APP.r($APP.Sa)?$APP.dH($APP.Ra()):null};$APP.LH.m=0;$APP.LH.o=function(a){return this.l($APP.x(a))};$APP.rH=function rH(a){switch(arguments.length){case 1:return rH.h(arguments[0]);case 2:return rH.g(arguments[0],arguments[1]);case 3:return rH.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.t.h(arguments.length)].join(""));}};
$APP.rH.h=function(a){return function(b){var c=new $APP.bH;return function(){function d(l,m){c.add(m);return a===c.size()?(m=$APP.lg(c.C),c.clear(),b.g?b.g(l,m):b.call(null,l,m)):l}function e(l){if(!$APP.r(c.fd())){var m=$APP.lg(c.C);c.clear();l=$APP.pd(b.g?b.g(l,m):b.call(null,l,m))}return b.h?b.h(l):b.call(null,l)}function f(){return b.v?b.v():b.call(null)}var k=null;k=function(l,m){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m)}throw Error("Invalid arity: "+
arguments.length);};k.v=f;k.h=e;k.g=d;return k}()}};$APP.rH.g=function(a,b){return $APP.rH.j(a,a,b)};$APP.rH.j=function(a,b,c){return new $APP.Qe(null,function(){var d=$APP.x(c);return d?$APP.He($APP.Mf.g(a,d),$APP.rH.j(a,b,$APP.Nf.g(b,d))):null},null,null)};$APP.rH.m=3;$APP.gH.prototype.nb=function(){$APP.r(this.f)&&(this.value=this.f.v?this.f.v():this.f.call(null),this.f=null);return this.value};$APP.gH.prototype.$c=function(){return $APP.Za(this.f)};
$APP.gH.prototype.R=function(a,b,c){$APP.ic(b,"#object[cljs.core.Delay ");$APP.ti(new $APP.n(null,2,[$APP.ED,null==this.f?$APP.Hw:$APP.nB,$APP.pv,this.value],null),b,c);return $APP.ic(b,"]")};$APP.MH=function MH(a){switch(arguments.length){case 1:return MH.h(arguments[0]);case 2:return MH.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.t.h(arguments.length)].join(""));}};
$APP.MH.h=function(a){return lH(new $APP.n(null,3,[$APP.Cm,$APP.u($APP.WF),$APP.Dm,$APP.u($APP.VF),$APP.il,null],null),a)};$APP.MH.g=function(a,b){return lH($APP.Tm.j($APP.Qk.l($APP.F([new $APP.n(null,1,[$APP.Dm,$APP.u($APP.VF)],null),a])),$APP.Cm,function(c){return $APP.Qk.l($APP.F([$APP.u($APP.WF),c]))}),b)};$APP.MH.m=2;$APP.NH=new $APP.H(null,"port","port",1534937262);$APP.uH=new $APP.H(null,"reload","reload",863702807);$APP.OH=new $APP.H(null,"opts","opts",155075701);
$APP.EH=new $APP.H(null,"output-dir","output-dir",-290956991);qH=new $APP.H(null,"require-macros","require-macros",707947416);$APP.PH=new $APP.H(null,"message","message",-406056002);$APP.AH=new $APP.H(null,"in-file","in-file",-1682176692);$APP.QH=new $APP.H(null,"id","id",-1388402092);vH=new $APP.w("cljs.core","ns-publics","cljs.core/ns-publics",488240955,null);$APP.nH=new $APP.H(null,"paths","paths",-1807389588);$APP.RH=new $APP.H(null,"eval","eval",-1103567905);
$APP.sH=new $APP.H(null,"eval-form","eval-form",-1934118476);$APP.CH=new $APP.H(null,"out-file","out-file",-1187066405);BH=new $APP.H(null,"in-str","in-str",-1014658121);$APP.DH=new $APP.H(null,"extension","extension",1453374065);$APP.oH=new $APP.gH(function(){if($APP.r(esm_import$fs.existsSync("squint.edn"))){var a=esm_import$fs.readFileSync("squint.edn","utf-8");a=$APP.MH.h(a)}else a=null;return a},null);var SH;$APP.tH=$APP.Vi.h(null);SH=HH(yH);export const compileFile=HH($APP.FH);export const compileString=SH;