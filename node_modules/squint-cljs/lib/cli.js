import { $APP, shadow$provide, $jscomp } from "./compiler.js";
import "./node.js";
import "./compiler.node.js";
const shadow_esm_import = function(x) { return import(x) };
import*as esm_import$fs from"fs";import*as esm_import$net from"net";import*as esm_import$readline from"readline";import*as esm_import$squint_cljs$core from"squint-cljs/core.js";import*as esm_import$node_util from"node:util";import*as esm_import$url from"url";import*as esm_import$path from"path";
var Iha=function(a,b){return $APP.Vd(a)&&$APP.Vd(b)?$APP.Qk.l($APP.F([a,b])):$APP.Rd(a)&&($APP.Ud(a)||$APP.Td(a))&&$APP.Rd(b)&&($APP.Ud(b)||$APP.Td(b))?$APP.Rg.g(a,b):b},U9=function(a,b){return $APP.ne.j(function(c,d){return $APP.kv.l(Iha,$APP.F([c,d]))},a,b)},V9=function(a){throw $APP.cl.g(["Unexpected format: ",$APP.t.h(a)].join(""),new $APP.n(null,1,[Jha,a],null));},W9=function(a){var b=JSON.parse(a);return $APP.ae(b)?b:V9(a)},Kha=function(a){var b=JSON.parse(a);return $APP.$G(b)?b:V9(a)},Lha=
function(a){var b=JSON.parse(a);return $APP.aH(b)?b:V9(a)},X9=function(a){var b=JSON.parse(a);return"number"===typeof b?b:V9(a)},Y9=function(a){return"string"===typeof a?$APP.B.j(a,0,null):null},Z9=function(a){return $APP.A.g(":",Y9(a))?$APP.zi.h($APP.ji.g(a,1)):$APP.zi.h(a)},Mha=function(a){return $APP.Rd(a)?$APP.y(a):a},$9=function(a){if("string"===typeof a)try{var b=Y9(a);if($APP.A.g("true",a)||$APP.A.g("false",a))var c=W9(a);else{if($APP.A.g("nil",a))var d=null;else{if($APP.Za(isNaN(a)))var e=
X9(a);else{var f=$APP.A.g(":",b);var k=f?$APP.hi(/:[a-zA-Z][a-zA-Z0-9_\/\.-]*/,a):f;e=$APP.r(k)?Z9(a):a}d=e}c=d}return c}catch(l){return a}else return a},a$=function(a,b,c,d){throw $APP.cl.j(["Coerce failure: cannot transform ",$APP.r(b)?"(implicit) true":["input ",$APP.Ri.l($APP.F([a]))].join(""),c instanceof $APP.H?" to ":" with ",$APP.t.h(c instanceof $APP.H?$APP.ai(c):c)].join(""),new $APP.n(null,2,[Nha,a,Oha,c],null),d);},Pha=function(a,b,c){var d=function(){switch(b instanceof $APP.H?b.da:null){case "boolean":case "bool":return W9;
case "int":case "long":return Kha;case "double":return Lha;case "number":return X9;case "symbol":return $APP.Hi;case "keyword":return Z9;case "string":return $APP.se;case "edn":return $APP.MH;case "auto":return $9;default:return b}}();if("string"===typeof a)try{var e=d.h?d.h(a):d.call(null,a)}catch(f){e=a$(a,c,b,f)}else e=a;d=e;return $APP.r($APP.r(c)?!0!==d:c)?a$(a,c,b,null):d},b$=function(a,b,c){a=$APP.fe.g(a,b);c=$APP.r(a)?a:$APP.Rd(c)?$APP.Hd(c):null;return $APP.r(c)?$APP.Rd(c)?$APP.$q.g($APP.Ee,
c):c:null},c$=function(a,b,c,d){return $APP.Qh.g(b,c)?(c=$APP.eH(a,b),$APP.r(c)?($APP.B.j(c,0,null),c=$APP.B.j(c,1,null),$APP.Rh.j(a,b,$APP.r(d)?d.g?d.g(c,!0):d.call(null,c,!0):!0)):$APP.Rh.j(a,b,$APP.r(d)?d.g?d.g(null,!0):d.call(null,null,!0):!0)):a},Qha=function(a,b,c,d,e,f){d=$APP.r($APP.r(d)?!$APP.Rd(d):d)?Pha(e,d,f):$9(e);return $APP.r(c)?$APP.Tm.A(a,b,c,d):$APP.Rh.j(a,b,d)},Rha=function(a){return $APP.ne.j(function(b,c){var d=$APP.B.j(c,0,null);c=$APP.B.j(c,1,null);var e=$APP.jf(c),f=$APP.fe.g(e,
d$),k=$APP.fe.g(e,e$);c=$APP.fe.g(e,$APP.Dm);var l=$APP.fe.g(e,$APP.dF);e=$APP.fe.g(e,f$);b=$APP.r(f)?$APP.Tm.J(b,d$,$APP.Rh,d,f):b;b=$APP.r(k)?$APP.Tm.j(b,e$,function(m){if($APP.he(m,k))throw $APP.cl.g(["Conflicting alias ",$APP.t.h(k)," between ",$APP.t.h($APP.fe.g(m,k))," and ",$APP.t.h(d)].join(""),new $APP.n(null,1,[e$,k],null));return $APP.Rh.j(m,k,d)}):b;b=$APP.r(l)?$APP.Tm.j(b,$APP.dF,$APP.$q.g(function(m){return $APP.Ee.g(m,d)},$APP.Vh)):b;b=$APP.r(e)?$APP.Tm.J(b,f$,$APP.Rh,d,e):b;return $APP.r(c)?
$APP.Tm.J(b,g$,$APP.Rh,d,c):b},$APP.hf,a)},k$=function(a,b){b=$APP.jf(b);var c=$APP.fe.g(b,h$);b=$APP.fH(function(d){var e=$APP.r(c)?null:$APP.qa(d,":");return!($APP.r(e)?e:$APP.qa(d,"-"))},a);a=$APP.B.j(b,0,null);b=$APP.B.j(b,1,null);return new $APP.n(null,2,[i$,a,j$,b],null)},m$=function(a,b){if($APP.r(b))if($APP.x(a)){var c=$APP.xd(a),d=$APP.$e(c,b);c=c<d?c:d;a=new $APP.I(null,2,5,$APP.N,[$APP.R.g($APP.Wu.g(b,a),$APP.Nf.g(c,a)),$APP.Nf.g(c,b)],null)}else a=new $APP.I(null,2,5,$APP.N,[a,b],null);
else a=new $APP.I(null,2,5,$APP.N,[a,b],null);b=a;a=$APP.B.j(b,0,null);b=$APP.B.j(b,1,null);return new $APP.n(null,2,[j$,a,l$,b],null)},u$=function(a,b,c,d,e){var f=Y9(a),k="string"===typeof a?$APP.B.j(a,1,null):null,l;if(l=$APP.A.g(f,"-")){try{var m=X9($APP.t.h(k))}catch(h){m=null}l=$APP.Za(m)}b=$APP.r(b)?b:l?n$:null;f=$APP.A.g(":",f);c=$APP.Qh.g(n$,b)&&f&&($APP.A.g(o$,d)||$APP.Za(c)||$APP.A.g(e,c));d=$APP.r(b)?b:c?p$:null;a=l?$APP.r(k)?$APP.Qh.g("-",k)&&2<$APP.xd(a):k:null;return new $APP.n(null,
5,[$APP.ex,d,q$,l,r$,a,s$,c,t$,f],null)},Vha=function(a,b){function c(vb){vb=$APP.Qk.l($APP.F([new $APP.n(null,2,[v$,d,$APP.Xk,w$],null),vb]));return O.h?O.h(vb):O.call(null,vb)}var d=v$.h(b),e=$APP.r(d)?U9(b,$APP.F([Rha(d)])):b,f=d$.h(e),k=function(){var vb=e$.h(e);return $APP.r(vb)?vb:$APP.Mr.h(e)}(),l=Sha.h(e),m=$APP.dF.h(e),h=g$.h(e),p=h$.h(e),q=function(){var vb=x$.h(e);return $APP.r(vb)?vb:Tha.h(e)}(),v=$APP.Zh($APP.R.l($APP.Kh($APP.Vd(d)?d:$APP.Rg.g($APP.hf,d)),$APP.Oh(k),$APP.F([$APP.Kh(f)]))),
D=$APP.A.g(!0,q)?v:null==q?null:$APP.Zh(q),J=f$.h(e),O=function(){var vb=Uha.h(e);return $APP.r(vb)?vb:function(Yb){Yb=$APP.jf(Yb);var Jc=$APP.fe.g(Yb,y$);throw $APP.cl.g(Jc,Yb);}}(),P=k$(a,null),W=$APP.jf(P),ca=$APP.fe.g(W,i$),ha=$APP.fe.g(W,j$),na=function(){var vb=l$.h(e);vb=$APP.r(vb)?vb:z$.h(e);return $APP.r(vb)?m$(ca,vb):new $APP.n(null,2,[l$,null,j$,ha],null)}(),pa=$APP.jf(na),fa=$APP.fe.g(pa,j$),E=$APP.fe.g(pa,l$),C=$APP.Qh.g(fa,ha)?new $APP.I(null,2,5,$APP.N,[null,$APP.R.g(fa,ha)],null):
new $APP.I(null,2,5,$APP.N,[ca,ha],null),ea=$APP.B.j(C,0,null),K=$APP.B.j(C,1,null),M=function(){for(var vb=$APP.hf,Yb=null,Jc=null,Ne=$APP.r(p)?n$:null,hd=$APP.x(K),Kg=E;;){if($APP.Za(hd))return new $APP.I(null,3,5,$APP.N,[vb,Yb,Jc],null);var og=$APP.y(hd),Uc=og instanceof $APP.H;if(Uc){Yb=c$(vb,Yb,Jc,null);var oe=og;hd=$APP.z(hd);vb=Yb;Yb=oe}else{var Cl=!0===og,Sf=$APP.t.h(og);oe=b$(l,Yb,$APP.fe.g(f,Yb));var xi=$APP.fe.g(f,Yb),Dl=u$(Sf,Ne,Yb,xi,Jc),Lh=$APP.jf(Dl),El=$APP.fe.g(Lh,q$),Mh=$APP.fe.g(Lh,
r$),Fl=$APP.fe.g(Lh,s$),Tf=$APP.fe.g(Lh,$APP.ex),nk=$APP.fe.g(Lh,t$);if($APP.r(function(){var Pe=El;return $APP.r(Pe)?Pe:Fl}())){var Yc=$APP.qa(Sf,"--"),ok=Yc&&$APP.A.g("--",Sf);if(ok){var Gl=$APP.z(hd);return new $APP.I(null,3,5,$APP.N,[function(){var Pe=vb;return Gl?$APP.jo.A(Pe,$APP.Yu,new $APP.I(null,2,5,$APP.N,[w$,j$],null),$APP.lg(Gl)):Pe}(),Yb,Jc],null)}var pk=Yc?$APP.ji.g(Sf,2):$APP.Zj(Sf,/^(:|-|)/,""),Af=Yc?$APP.Ir.g(pk,/=/):new $APP.I(null,1,5,$APP.N,[pk],null),Sd=$APP.B.j(Af,0,null),Ce=
$APP.B.j(Af,1,null),Tb=$APP.zi.h(Sd),Fc=$APP.fe.j(k,Tb,Tb);if($APP.r(Ce))Jc=c$(vb,Yb,Jc,oe),Yb=Fc,Ne=Tf,hd=$APP.He(Ce,$APP.cd(hd)),vb=Jc,Jc=null;else{var Ab=$APP.z(hd),Oe=$APP.y(Ab),tw=u$(Oe,Tf,Yb,xi,Jc);if($APP.r(function(){var Pe=q$.h(tw);return $APP.r(Pe)?Pe:$APP.Qd(Ab)}()))if($APP.r(Mh)){var uw=$APP.ai(Fc);Jc=$APP.Zp.l(function(){return function(Pe){return new $APP.I(null,2,5,$APP.N,[["-",$APP.t.h(Pe)].join(""),!0],null)}}(vb,Yb,Jc,Ne,hd,Kg,uw,Ab,Oe,tw,pk,Af,Sd,Ce,Tb,Fc,Yc,ok,Cl,Sf,oe,xi,Dl,Lh,
El,Mh,Fl,Tf,nk,og,Uc,d,e,f,k,l,m,h,p,q,v,D,J,O,c,P,W,ca,ha,na,pa,fa,E,C,ea,K),$APP.F([uw]));hd=$APP.R.g(Jc,Ab);Ne=Tf;Jc=Yb=null}else hd=$APP.he(v,Fc)?null:$APP.VG($APP.t.h(Fc),":no-"),Ne=$APP.r(hd)?$APP.zi.h($APP.Zj($APP.t.h(Fc),":no-","")):Fc,hd=$APP.He($APP.Za(hd),Ab),Yb=c$(vb,Yb,Jc,oe),oe=Ne,Ne=Tf,vb=Yb,Yb=oe;else Yb=c$(vb,Yb,Jc,oe),oe=Fc,Ne=Tf,hd=Ab,vb=Yb,Yb=oe}}else if(ok=$APP.A.g(o$,xi)&&$APP.Qh.g(Sf,"true")&&$APP.Qh.g(Sf,"false")||$APP.A.g(Jc,Yb)&&$APP.Za(oe))if(Kg=$APP.r(hd)?$APP.r(Kg)?m$(hd,
Kg):new $APP.n(null,1,[j$,hd],null):new $APP.n(null,1,[j$,hd],null),Ne=$APP.jf(Kg),Kg=$APP.fe.g(Ne,j$),Ne=$APP.fe.g(Ne,l$),$APP.Qh.g(hd,Kg))oe=Ne,Ne=Tf,hd=Kg,Kg=oe;else return new $APP.I(null,3,5,$APP.N,[$APP.jo.A(vb,$APP.Yu,new $APP.I(null,2,5,$APP.N,[w$,j$],null),$APP.lg(hd)),Yb,Jc],null);else{try{var Yd=Qha(vb,Yb,oe,Mha(xi),Sf,Cl)}catch(Pe){c(new $APP.n(null,4,[A$,d$,y$,$APP.jH(Pe),B$,Yb,C$,Sf],null)),Yd=vb}Jc=$APP.r(function(){var Pe=$APP.A.g(p$,Tf);return Pe?nk:Pe}())?null:Yb;oe=$APP.r(function(){var Pe=
$APP.A.g(p$,Tf);return Pe?nk:Pe}())?null:Yb;Ne=Tf;hd=$APP.z(hd);vb=Yd;Yb=Jc;Jc=oe}}}}(),da=$APP.B.j(M,0,null),ia=$APP.B.j(M,1,null),ja=$APP.B.j(M,2,null),sa=b$(l,ia,$APP.fe.g(f,ia)),ta=function(){var vb=c$(da,ia,ja,sa);return $APP.x(ea)?$APP.jo.A(vb,$APP.Nk,new $APP.I(null,2,5,$APP.N,[w$,j$],null),function(Yb){return $APP.Rg.g($APP.lg(ea),Yb)}):vb}(),wa=$APP.r(h)?$APP.Md($APP.Qk.l($APP.F([h,ta])),$APP.Nd(ta)):ta;if($APP.r(D)){a=$APP.x($APP.Kh(wa));b=null;for(var ya=0,Ca=0;;)if(Ca<ya){var Ha=b.ba(null,
Ca);$APP.he(D,Ha)||c(new $APP.n(null,4,[A$,x$,y$,["Unknown option: ",$APP.t.h(Ha)].join(""),x$,D,B$,Ha],null));Ca+=1}else if(a=$APP.x(a))b=a,$APP.Zd(b)?(a=$APP.uc(b),Ca=$APP.vc(b),b=a,ya=$APP.xd(a),a=Ca):(a=$APP.y(b),$APP.he(D,a)||c(new $APP.n(null,4,[A$,x$,y$,["Unknown option: ",$APP.t.h(a)].join(""),x$,D,B$,a],null)),a=$APP.z(b),b=null,ya=0),Ca=0;else break}if($APP.r(m))for(a=$APP.x(m),b=null,Ca=ya=0;;)if(Ca<ya)Ha=b.ba(null,Ca),$APP.r($APP.eH(wa,Ha))||c(new $APP.n(null,4,[A$,$APP.dF,y$,["Required option: ",
$APP.t.h(Ha)].join(""),$APP.dF,m,B$,Ha],null)),Ca+=1;else if(a=$APP.x(a))b=a,$APP.Zd(b)?(a=$APP.uc(b),Ca=$APP.vc(b),b=a,ya=$APP.xd(a),a=Ca):(a=$APP.y(b),$APP.r($APP.eH(wa,a))||c(new $APP.n(null,4,[A$,$APP.dF,y$,["Required option: ",$APP.t.h(a)].join(""),$APP.dF,m,B$,a],null)),a=$APP.z(b),b=null,ya=0),Ca=0;else break;if($APP.r(J))for(var Da=$APP.x(J),Aa=null,Oa=0,Ua=0;;)if(Ua<Oa){var db=Aa.ba(null,Ua),ub=$APP.B.j(db,0,null),Bb=$APP.B.j(db,1,null),Xb=function(){var vb=(vb=$APP.Vd(Bb))?D$.h(Bb):vb;return $APP.r(vb)?
vb:Bb}(),qc=$APP.eH(wa,ub);if($APP.r(qc)){var $c=qc,Sb=$APP.B.j($c,0,null),of=$APP.B.j($c,1,null);if(!$APP.r(Xb.h?Xb.h(of):Xb.call(null,of))){var jk=function(){var vb=E$.h(Bb);return $APP.r(vb)?vb:function(){return function(Yb){var Jc=$APP.jf(Yb);Yb=$APP.fe.g(Jc,B$);Jc=$APP.fe.g(Jc,C$);return["Invalid value for option ",$APP.t.h(Yb),": ",$APP.t.h(Jc)].join("")}}(Da,Aa,Oa,Ua,vb,$c,Sb,of,qc,Xb,db,ub,Bb,d,e,f,k,l,m,h,p,q,v,D,J,O,c,P,W,ca,ha,na,pa,fa,E,C,ea,K,M,da,ia,ja,sa,ta,wa)}();c(new $APP.n(null,
5,[A$,f$,y$,function(){var vb=new $APP.n(null,2,[B$,ub,C$,of],null);return jk.h?jk.h(vb):jk.call(null,vb)}(),f$,J,B$,ub,C$,of],null))}}Ua+=1}else{var zl=$APP.x(Da);if(zl){var vi=zl;if($APP.Zd(vi))ya=$APP.uc(vi),a=$APP.vc(vi),b=ya,ya=$APP.xd(ya),Da=a,Aa=b,Oa=ya;else{var kk=$APP.y(vi),lk=$APP.B.j(kk,0,null),rj=$APP.B.j(kk,1,null),mk=function(){var vb=(vb=$APP.Vd(rj))?D$.h(rj):vb;return $APP.r(vb)?vb:rj}(),Al=$APP.eH(wa,lk);if($APP.r(Al)){var Ic=Al,sj=$APP.B.j(Ic,0,null),wi=$APP.B.j(Ic,1,null);if(!$APP.r(mk.h?
mk.h(wi):mk.call(null,wi))){var Bl=function(){var vb=E$.h(rj);return $APP.r(vb)?vb:function(){return function(Yb){var Jc=$APP.jf(Yb);Yb=$APP.fe.g(Jc,B$);Jc=$APP.fe.g(Jc,C$);return["Invalid value for option ",$APP.t.h(Yb),": ",$APP.t.h(Jc)].join("")}}(Da,Aa,Oa,Ua,vb,Ic,sj,wi,Al,mk,kk,lk,rj,vi,zl,d,e,f,k,l,m,h,p,q,v,D,J,O,c,P,W,ca,ha,na,pa,fa,E,C,ea,K,M,da,ia,ja,sa,ta,wa)}();c(new $APP.n(null,5,[A$,f$,y$,function(){var vb=new $APP.n(null,2,[B$,lk,C$,wi],null);return Bl.h?Bl.h(vb):Bl.call(null,vb)}(),
f$,J,B$,lk,C$,wi],null))}}Da=$APP.z(vi);Aa=null;Oa=0}Ua=0}else break}return wa},Wha=function(a,b){a=Vha(a,b);b=w$.h($APP.Nd(a));return $APP.Rh.j(b,$APP.OH,$APP.Rk.g(a,w$))},Xha=function(a,b){var c=$APP.Of($APP.xd(a),b);b=$APP.B.j(c,0,null);c=$APP.B.j(c,1,null);return $APP.A.g(b,a)?c:null},J$=function(a,b){$APP.Jf(F$,!1);a.setPrompt([$APP.t.h($APP.u(G$)),"\x3d\x3e "].join(""));a.prompt();return $APP.gk($APP.u(H$))?null:I$.g?I$.g(b,a):I$.call(null,b,a)},K$=function(a){var b=$APP.Bk(a);a=$APP.Ck(a);
var c=$APP.kH($APP.u(H$));b=$APP.Nf.g(b-1,c);c=$APP.x(b);b=$APP.y(c);c=$APP.z(c);a=$APP.r(b)?$APP.ji.g(b,a):null;$APP.Jf(H$,$APP.Jp.g("\n",$APP.He(a,c)))},Yha=function(a,b,c){var d=function(){var k=$APP.pr;$APP.pr=$APP.u(G$);try{a:{var l=$APP.La;$APP.La=!0;try{var m=$APP.Ri.l($APP.F([a]));break a}finally{$APP.La=l}m=void 0}return $APP.vu(m,new $APP.n(null,2,[$APP.Kp,$APP.Pp,$APP.lu,!0],null),$APP.u(L$))}finally{$APP.pr=k}}(),e=$APP.jf(d),f=$APP.fe.g(e,$APP.uu);d=$APP.fe.g(e,$APP.T);$APP.Jf(L$,e);
e=$APP.Zj("(async function () {\n%s\n}) ()","%s",f);$APP.Jf(G$,d);return Promise.resolve(eval(e)).then(function(k){$APP.r(c)?c.write(esm_import$node_util.inspect(k),"\n"):console.log(k);return I$.g?I$.g(c,b):I$.call(null,c,b)}).catch(function(k){esm_import$squint_cljs$core.println(k);return J$(b,c)})},I$=function(a,b){if($APP.r(function(){var e=$APP.u(F$);return $APP.r(e)?e:!$APP.gk($APP.u(H$))}())){$APP.Jf(F$,!0);var c=$APP.hp($APP.u(H$)),d=function(){try{return $APP.jp(c,$APP.iu)}catch(f){var e=
f;if(-1!=$APP.jH(e).indexOf("EOF while reading"))return M$;K$(c);$APP.KH.l($APP.F([$APP.t.h(e)]));return N$}}();if($APP.A.g(N$,d))return J$(b,a);if($APP.A.g(M$,d))return $APP.Jf(F$,!1);K$(c);return $APP.A.g($APP.ip,d)?J$(b,a):Yha(d,b,a)}return null},O$=function(a,b){a.on("line",function(c){$APP.Wi.A(H$,$APP.t,c,"\n");return I$(b,a)})},Zha=function(a){var b=esm_import$readline.createInterface({input:a,output:a});O$(b,a);a.setNoDelay(!0);return a.on("close",function(){return $APP.LH.l($APP.F(["Client closed connection."]))})},
P$=function(a,b,c){return $APP.r(c)?esm_import$path.resolve(c,$APP.zH(a,b)):a},Q$=function(a,b,c){var d=$APP.EH.h(a),e=$APP.nH.h(a);b=P$(b,e,d);c=$APP.pH(c);d=null==c?null:P$(c,e,d);d=null==d?null:null==d?null:esm_import$path.relative(esm_import$path.dirname($APP.t.h(b)),d);return $APP.r(d)?(a=$APP.DH.g(a,".mjs"),a=$APP.qa(a,".")?a:[".",$APP.t.h(a)].join(""),e=esm_import$path.extname(d),["./",$APP.Zj(d,$APP.ki([$APP.t.h(e),"$"].join("")),a)].join("")):null},R$=function(a,b,c,d){if($APP.r(a)){var e=
esm_import$path.resolve(c,$APP.zH(b,d));c=esm_import$path.dirname(e);if($APP.r($APP.Ef(function(f){return f instanceof $APP.H?$APP.ii($APP.ki(["\\.",$APP.ai(f),"$"].join("")),e):"string"===typeof f?$APP.ii($APP.ki(f),e):null},a)))return $APP.r(esm_import$fs.existsSync(c))||($APP.LH.l($APP.F(["[squint] Creating directory:",c])),esm_import$fs.mkdirSync(c,{recursive:!0})),$APP.LH.l($APP.F(["[squint] zCopying resource",b,"to",c])),esm_import$fs.copyFileSync(b,e)}return null},V$=function(a,b){var c=$APP.u($APP.oH),
d=$APP.Qk.l($APP.F([c,a])),e=$APP.nH.h(c),f=S$.h(c),k=$APP.EH.g(c,".");a=$APP.Qd(b)?$APP.lg($APP.Zp.l(T$,$APP.F([e]))):b;b=$APP.EH.h(d);if($APP.r(b)&&"string"!==typeof b)throw Error("output-dir must be a string");return $APP.r(U$.h(d))?($APP.LH.l($APP.F(["Usage: squint compile \x3cfiles\x3e \x3copts\x3e"])),$APP.LH(),$APP.LH.l($APP.F(["Options:\n\n--elide-imports: do not include imports\n--elide-exports: do not include exports\n--extension: default extension for JS files\n--output-dir: output directory for JS files"]))):
$APP.ne.j(function(l,m){return Promise.resolve(l).then(function(){return $APP.he(new $APP.Uh(null,new $APP.n(null,2,[".cljc",null,".cljs",null],null),null),esm_import$path.extname(m))?($APP.LH.l($APP.F(["[squint] Compiling CLJS file:",m])),$APP.FH($APP.Rh.l(d,$APP.AH,m,$APP.F([$APP.xr,function(h){return Q$(d,m,h)}])))):R$(f,m,k,e)}).then(function(h){h=$APP.jf(h);h=$APP.fe.g(h,$APP.CH);$APP.r(h)&&$APP.LH.l($APP.F(["[squint] Wrote file:",h]));return h})},null,a)},s$=new $APP.H(null,"kwd-opt","kwd-opt",
1313309243),n$=new $APP.H(null,"hyphens","hyphens",2113533609),v$=new $APP.H(null,"spec","spec",347520401),d$=new $APP.H(null,"coerce","coerce",1917884504),x$=new $APP.H(null,"restrict","restrict",-1071101511),p$=new $APP.H(null,"keywords","keywords",1526959054),N$=new $APP.H("squint.repl.node","continue","squint.repl.node/continue",1558138730),y$=new $APP.H(null,"msg","msg",-1386103444),$ha=new $APP.H(null,"show","show",-576705889),o$=new $APP.H(null,"boolean","boolean",-1919418404),Nha=new $APP.H(null,
"input","input",556931961),W$=new $APP.H(null,"rest-cmds","rest-cmds",-423198324),w$=new $APP.H("org.babashka","cli","org.babashka/cli",1162430315),l$=new $APP.H(null,"args-\x3eopts","args-\x3eopts",964391046),e$=new $APP.H(null,"alias","alias",-2039751630),Sha=new $APP.H(null,"collect","collect",-284321549),f$=new $APP.H(null,"validate","validate",-201300827),r$=new $APP.H(null,"composite-opt","composite-opt",-2021292928),aia=new $APP.H(null,"run","run",-1821166653),q$=new $APP.H(null,"hyphen-opt",
"hyphen-opt",1836909464),U$=new $APP.H(null,"help","help",-439233446),A$=new $APP.H(null,"cause","cause",231901252),t$=new $APP.H(null,"fst-colon","fst-colon",1618567071),Oha=new $APP.H(null,"coerce-fn","coerce-fn",-821146515),j$=new $APP.H(null,"args","args",1315556576),h$=new $APP.H(null,"no-keyword-opts","no-keyword-opts",761286018),C$=new $APP.H(null,"value","value",305978217),S$=new $APP.H(null,"copy-resources","copy-resources",-1367155536),D$=new $APP.H(null,"pred","pred",1927423397),Tha=new $APP.H(null,
"closed","closed",-919675359),M$=new $APP.H("squint.repl.node","eof-while-reading","squint.repl.node/eof-while-reading",198833493),Uha=new $APP.H(null,"error-fn","error-fn",-171437615),B$=new $APP.H(null,"option","option",65132272),g$=new $APP.H(null,"exec-args","exec-args",-1860766354),E$=new $APP.H(null,"ex-msg","ex-msg",-1111774387),Jha=new $APP.H(null,"s","s",1705939918),z$=new $APP.H(null,"cmds-opts","cmds-opts",-390130362),bia=new $APP.H(null,"h","h",1109658740),i$=new $APP.H(null,"cmds","cmds",
-1841503952);var H$=$APP.Vi.h(""),F$=$APP.Vi.h(!1),G$=$APP.Vi.h($APP.pr),X$,Y$=process.stdout.isTTY;X$=$APP.r(Y$)?process.stdin.setRawMode:Y$;var L$=$APP.Vi.h(null),Z$=function Z$(a){switch(arguments.length){case 0:return Z$.v();case 1:return Z$.h(arguments[0]);default:throw Error(["Invalid arity: ",$APP.t.h(arguments.length)].join(""));}};Z$.v=function(){return Z$.h(null)};
Z$.h=function(a){$APP.pr=$APP.py;$APP.dr=$APP.or=!0;var b=function(){var d=$APP.NH.h(a);return $APP.r(d)?d:0}(),c=esm_import$net.createServer(Zha);return c.listen(b,"127.0.0.1",function(){var d=c.address(),e=d.address;return $APP.LH.l($APP.F([["Socket REPL listening on port ",$APP.t.h(d.port)," on host ",$APP.t.h(e)].join("")]))})};Z$.m=1;
var $$=function $$(a){switch(arguments.length){case 0:return $$.v();case 1:return $$.h(arguments[0]);default:throw Error(["Invalid arity: ",$APP.t.h(arguments.length)].join(""));}};$$.v=function(){return $$.h(null)};
$$.h=function(){$APP.pr=$APP.py;$APP.dr=$APP.or=!0;$APP.r(X$)&&process.stdin.setRawMode(!0);return Promise.resolve(eval("globalThis.user \x3d globalThis.user || {};")).then(function(){return new Promise(function(a){var b=$APP.r(null)?esm_import$readline.createInterface({input:null,output:null}):esm_import$readline.createInterface({input:process.stdin,output:process.stdout});O$(b,null);b.setPrompt([$APP.t.h($APP.u(G$)),"\x3d\x3e "].join(""));b.on("close",a);return b.prompt()})})};$$.m=1;var T$=function T$(a){var c=esm_import$fs.readdirSync(a);return $APP.lg($APP.Zp.l(function(d){d=esm_import$path.resolve(a,d);return $APP.r(esm_import$fs.lstatSync(d).isDirectory())?T$.h?T$.h(d):T$.call(null,d):new $APP.I(null,1,5,$APP.N,[d],null)},$APP.F([c])))},cia=new $APP.I(null,7,5,$APP.N,[new $APP.n(null,3,[i$,new $APP.I(null,1,5,$APP.N,["run"],null),$APP.yo,function(a){a=$APP.jf(a);a=$APP.fe.g(a,$APP.OH);var b=$APP.u($APP.oH),c=$APP.Qk.l($APP.F([b,a]));a=$APP.jf(c);var d=$APP.fe.g(a,$APP.$k);
a=$APP.fe.g(a,U$);if($APP.r(a))return null;$APP.LH.l($APP.F(["[squint] Running",d]));return $APP.FH($APP.Rh.l(c,$APP.AH,d,$APP.F([$APP.xr,function(e){return Q$(c,d,e)}]))).then(function(e){e=$APP.jf(e);e=$APP.fe.g(e,$APP.CH);e=$APP.r(esm_import$path.isAbsolute(e))?e:esm_import$path.resolve(process.cwd(),e);e=$APP.t.h(esm_import$url.pathToFileURL(e));return shadow_esm_import(e)})},z$,new $APP.I(null,1,5,$APP.N,[$APP.$k],null)],null),new $APP.n(null,2,[i$,new $APP.I(null,1,5,$APP.N,["compile"],null),
$APP.yo,function(a){var b=$APP.jf(a);a=$APP.fe.g(b,W$);b=$APP.fe.g(b,$APP.OH);return V$(b,a)}],null),new $APP.n(null,2,[i$,new $APP.I(null,1,5,$APP.N,["repl"],null),$APP.yo,$$],null),new $APP.n(null,2,[i$,new $APP.I(null,1,5,$APP.N,["socket-repl"],null),$APP.yo,Z$],null),new $APP.n(null,2,[i$,new $APP.I(null,1,5,$APP.N,["nrepl-server"],null),$APP.yo,function(a){a=$APP.jf(a);var b=$APP.fe.g(a,$APP.OH);return shadow_esm_import("./node.nrepl_server.js").then(function(c){c=c.startServer;return c.h?c.h(b):
c.call(null,b)})}],null),new $APP.n(null,2,[i$,new $APP.I(null,1,5,$APP.N,["watch"],null),$APP.yo,function(a){var b=$APP.u($APP.oH),c=$APP.Qk.l($APP.F([b,a])),d=$APP.nH.h(b),e=$APP.EH.g(b,"."),f=S$.h(b);return shadow_esm_import("chokidar").catch(function(k){return console.error(k)}).then(function(k){k=k.watch;$APP.LH.l($APP.F(["[squint] Watching paths:",$APP.Jp.g(", ",d)]));for(var l=$APP.x(d),m=null,h=0,p=0;;)if(p<h){var q=m.ba(null,p);(k.h?k.h(q):k.call(null,q)).on("all",function(J,O,P,W,ca,ha,
na,pa,fa,E,C){return function(ea,K){return $APP.r(esm_import$fs.existsSync(K))?$APP.r(esm_import$fs.lstatSync(K).isDirectory())?null:$APP.he(new $APP.Uh(null,new $APP.n(null,2,["add",null,"change",null],null),null),ea)&&$APP.he(new $APP.Uh(null,new $APP.n(null,2,[".cljc",null,".cljs",null],null),null),esm_import$path.extname(K))?V$(pa,new $APP.I(null,1,5,$APP.N,[K],null)).catch(function(){return function(M){return console.error(M)}}(J,O,P,W,ca,ha,na,pa,fa,E,C)):R$(C,K,E,fa):null}}(l,m,h,p,q,k,b,c,
d,e,f));p+=1}else{var v=$APP.x(l);if(v){var D=v;$APP.Zd(D)?(l=$APP.uc(D),h=$APP.vc(D),m=l,D=$APP.xd(l),l=h,h=D):(q=$APP.y(D),(k.h?k.h(q):k.call(null,q)).on("all",function(J,O,P,W,ca,ha,na,pa,fa,E,C,ea,K){return function(M,da){return $APP.r(esm_import$fs.existsSync(da))?$APP.r(esm_import$fs.lstatSync(da).isDirectory())?null:$APP.he(new $APP.Uh(null,new $APP.n(null,2,["add",null,"change",null],null),null),M)&&$APP.he(new $APP.Uh(null,new $APP.n(null,2,[".cljc",null,".cljs",null],null),null),esm_import$path.extname(da))?
V$(E,new $APP.I(null,1,5,$APP.N,[da],null)).catch(function(){return function(ia){return console.error(ia)}}(J,O,P,W,ca,ha,na,pa,fa,E,C,ea,K)):R$(K,da,ea,C):null}}(l,m,h,p,q,D,v,k,b,c,d,e,f)),l=$APP.z(D),m=null,h=0);p=0}else return null}})}],null),new $APP.n(null,2,[i$,$APP.kg,$APP.yo,function(a){a=$APP.jf(a);var b=$APP.fe.g(a,W$),c=$APP.fe.g(a,$APP.OH);a=$APP.ME.h(c);if($APP.r(a)){if($APP.r(U$.h(c)))return $APP.LH.l($APP.F(["Usage: squint -e \x3cexpr\x3e \x3copts\x3e\n\nOptions:\n\n--no-run: do not run compiled expression\n--show:   print compiled expression"]));
a=$APP.r($APP.$p.h(c))?$APP.Zj("(do %s\n)","%s",a):a;a=$APP.UG.g(a,$APP.Rh.l(c,$APP.$p,$APP.$p.h(c),$APP.F([$APP.Jr,$APP.Vi.h(new $APP.n(null,1,[$APP.to,$APP.py],null)),$APP.Kp,$APP.r($APP.$p.h(c))?$APP.Pp:$APP.Qp,$APP.lu,function(){var f=$APP.$p.h(c);return $APP.r(f)?!1!==$APP.lu.h(c):f}()])));a=$APP.r($APP.$p.h(c))?$APP.Zj("(async function() { %s })()","%s",a):a;var d=esm_import$fs.mkdtempSync(".tmp"),e=[$APP.t.h(d),"/squint.mjs"].join("");esm_import$fs.writeFileSync(e,a,"utf-8");$APP.r($ha.h(c))&&
$APP.LH.l($APP.F([a]));if(!1===aia.h(c))return null;e=$APP.r(esm_import$path.isAbsolute(e))?e:esm_import$path.resolve(process.cwd(),e);e=$APP.t.h(esm_import$url.pathToFileURL(e));return($APP.r($APP.$p.h(c))?Promise.resolve(eval(a)):shadow_esm_import(e)).then(function(f){return $APP.r($APP.$p.h(c))?$APP.KH.l($APP.F([f])):null}).finally(function(){return esm_import$fs.rmSync(d,{force:!0,recursive:!0})})}return $APP.r(function(){var f=U$.h(c);return $APP.r(f)?f:$APP.A.g("help",$APP.y(b))||$APP.Qd(b)}())?
$APP.LH.l($APP.F(["Squint v0.8.113\n\nUsage: squint \x3csubcommand\x3e \x3copts\x3e\n\nSubcommands:\n\n-e           \x3cexpr\x3e       Compile and run expression.\nrun       \x3cfile.cljs\x3e     Compile and run a file\nwatch                     Watch :paths in squint.edn\ncompile   \x3cfile.cljs\x3e ... Compile file(s)\nrepl                      Start repl\nhelp                      Print this help\n\nUse squint \x3csubcommand\x3e --help to show more info."])):V$(c,b)}],null)],null);(function(){var a=new $APP.n(null,2,[$APP.Mr,new $APP.n(null,1,[bia,U$],null),d$,new $APP.n(null,4,[$APP.lu,o$,$APP.Nr,o$,$APP.EH,$APP.nl,$APP.$p,o$],null)],null),b=k$(process.argv.slice(2),a),c=$APP.jf(b),d=$APP.fe.g(c,i$),e=$APP.fe.g(c,j$);return $APP.ne.j(function(f,k){f=$APP.jf(k);var l=$APP.fe.g(f,i$),m=$APP.fe.g(f,$APP.yo),h=Xha(l,d);if($APP.r(h)){k=function(){var v=null==h?null:$APP.x(h);return null==v?null:$APP.lg(v)}();k=$APP.R.g(k,e);f=Wha(k,U9(a,$APP.F([f])));k=$APP.jf(f);var p=$APP.fe.g(k,
$APP.OH);f=$APP.fe.g(k,j$);k=$APP.fe.g(k,i$);var q=$APP.R.g(k,f);return $APP.ld(function(){var v=$APP.Rh.l(c,j$,q,$APP.F([W$,q,$APP.OH,p,$APP.ap,l]));return m.h?m.h(v):m.call(null,v)}())}return null},null,cia)})();