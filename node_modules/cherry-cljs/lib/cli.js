import { $APP, shadow$provide, $jscomp } from "./cljs.core.js";
import "./clojure.set.js";
import "./node.js";
import "./clojure.string.js";
import "./clojure.walk.js";
import "./compiler.js";
const shadow_esm_import = function(x) { return import(x) };
import*as esm_import$fs from"fs";import*as esm_import$url from"url";import*as esm_import$path from"path";
var Bka=function(a,b){b=$APP.qh(b);var c=$APP.df.g(b,$APP.WA);a=$APP.Qy($APP.Oy(a),$APP.UB);if($APP.Te(a)&&$APP.ce.g($APP.Um,$APP.x(a))){a=$APP.w(a);$APP.x(a);a=$APP.y(a);var d=$APP.x(a);a=$APP.y(a);a=$APP.Oh(function(k){var l=$APP.z.l(k,0,null);k=$APP.z.l(k,1,null);return $APP.Te(l)&&$APP.ce.g($APP.pQ,$APP.x(l))?new $APP.E(null,2,5,$APP.F,[$APP.Ad(l),k],null):null},$APP.Ip.l(2,1,a));var e=$APP.z.l(a,0,null),g=$APP.z.l(a,1,null);return $APP.p(e)?shadow_esm_import("./compiler.sci.js").then(function(){var k=
$APP.sQ.h($APP.cc($APP.wQ));return $APP.rf.l(function(l,m){return l.then(function(){var h=$APP.w(m),t=$APP.x(h);h=$APP.y(h);h=$APP.qh(h);var r=$APP.df.g(h,$APP.TA),v=$APP.df.g(h,$APP.Ct);return Promise.resolve(function(){var C=function(){var N=new $APP.A(null,$APP.BO,new $APP.A(null,new $APP.A(null,$APP.cn,new $APP.A(null,t,null,1,null),2,null),null,1,null),2,null);return $APP.p(g)?$APP.M.g(N,new $APP.E(null,1,5,$APP.F,[$APP.mQ],null)):N}();k.h?k.h(C):k.call(null,C);var I=function(){var N=$APP.Q.h($APP.w($APP.M.g(new $APP.A(null,
$APP.rQ,null,1,null),new $APP.A(null,$APP.Q.h($APP.w($APP.M.g(new $APP.A(null,$APP.cn,null,1,null),new $APP.A(null,t,null,1,null)))),null,1,null))));return k.h?k.h(N):k.call(null,N)}();C=$APP.tk(I);I=$APP.vk(I);I=$APP.ul.g($APP.Sd,I);return $APP.Jk(C,I)}()).then(function(C){return $APP.bm.g(c,function(I){I=$APP.Zo(I,new $APP.E(null,2,5,$APP.F,[$APP.IB,t],null),C);I=$APP.p(v)?$APP.Zo(I,new $APP.E(null,3,5,$APP.F,[d,$APP.YA,v],null),t):I;return $APP.p(r)?$APP.Zo(I,new $APP.E(null,2,5,$APP.F,[d,$APP.XA],
null),$APP.Jk(r,$APP.Qo.h(t))):I})})})},Promise.resolve(null),e)}):null}return null},g$=function(a){var b=$APP.yk.l;var c=$APP.WA.h(a);c=$APP.p(c)?c:$APP.am.h(new $APP.n(null,1,[$APP.dy,$APP.fG],null));return b.call($APP.yk,a,$APP.WA,c)},Cka=function(a,b){var c=g$(b);return Promise.resolve(Bka(a,c)).then(function(){return $APP.fC(a,c,null)})},h$=function(a,b){return $APP.rf.l(function(c,d){a:{var e=esm_import$path.resolve(d).split(esm_import$path.sep);for(var g=esm_import$path.resolve(a).split(esm_import$path.sep);;){var k=
$APP.Be(e);if(k){e=k;break a}if(k=$APP.w(g))if(k=$APP.ce.g($APP.x(e),$APP.x(g)))e=$APP.Ad(e),g=$APP.Ad(g);else{e=k;break a}else{e=k;break a}}}return e?$APP.Pd(esm_import$path.relative(d,a)):c},a,b)},i$=function(a){a=$APP.qh(a);var b=$APP.df.g(a,$APP.qQ),c=$APP.df.g(a,$APP.uQ),d=$APP.df.g(a,$APP.tQ),e=$APP.df.g(a,$APP.vQ),g=$APP.df.l(a,$APP.oQ,"");c=$APP.p(c)?c:esm_import$fs.readFileSync(b,"utf-8");a=g$(a);return Cka(c,a).then(function(k){k=$APP.qh(k);var l=$APP.df.g(k,$APP.dC),m=$APP.df.g(k,$APP.Sz),
h=$APP.iQ.g($APP.cc($APP.jQ),new $APP.E(null,2,5,$APP.F,[".","src"],null)),t=esm_import$path,r=t.resolve;$APP.p(d)?h=d:(h=h$(b,h),$APP.p(m)?m=".jsx":(m=$APP.p(e)?[".",$APP.Xr(e,/^\./,"")].join(""):null,m=$APP.p(m)?m:".mjs"),h=$APP.Xr(h,/.clj(s|c)$/,m));t=r.call(t,g,h);r=esm_import$path.dirname(t);$APP.p(esm_import$fs.existsSync(r))||esm_import$fs.mkdirSync(r,{recursive:!0});if(!$APP.p(esm_import$fs.existsSync(r)))throw Error("File not found, make sure output-dir is a valid path: ",new $APP.n(null,
2,[$APP.oQ,g,$APP.tQ,t],null));esm_import$fs.writeFileSync(t,l,"utf-8");return $APP.yk.l(k,$APP.tQ,t)})},Dka=function(a,b){return $APP.Ie(a)&&$APP.Ie(b)?$APP.yp.j($APP.G.g([a,b],0)):$APP.Ce(a)&&($APP.Ge(a)||$APP.De(a))&&$APP.Ce(b)&&($APP.Ge(b)||$APP.De(b))?$APP.vj.g(a,b):b},j$=function(a,b){return $APP.rf.l(function(c,d){return $APP.zp.j(Dka,$APP.G.g([c,d],0))},a,b)},k$=function(a){throw $APP.Fq.g(["Unexpected format: ",$APP.q.h(a)].join(""),new $APP.n(null,1,[Eka,a],null));},l$=function(a){var b=
JSON.parse(a);return $APP.Re(b)?b:k$(a)},Fka=function(a){var b=JSON.parse(a);return $APP.Ye(b)?b:k$(a)},Gka=function(a){var b=JSON.parse(a);return $APP.cf(b)?b:k$(a)},m$=function(a){var b=JSON.parse(a);return"number"===typeof b?b:k$(a)},n$=function(a){return"string"===typeof a?$APP.z.l(a,0,null):null},o$=function(a){return $APP.ce.g(":",n$(a))?$APP.vl.h($APP.bl.g(a,1)):$APP.vl.h(a)},Hka=function(a){return $APP.Ce(a)?$APP.x(a):a},p$=function(a){if("string"===typeof a)try{var b=n$(a);if($APP.ce.g("true",
a)||$APP.ce.g("false",a))var c=l$(a);else{if($APP.ce.g("nil",a))var d=null;else{if($APP.ab(isNaN(a)))var e=m$(a);else{var g=$APP.ce.g(":",b);var k=g?$APP.Yk(/:[a-zA-Z][a-zA-Z0-9_\/\.-]*/,a):g;e=$APP.p(k)?o$(a):a}d=e}c=d}return c}catch(l){return a}else return a},q$=function(a,b,c,d){throw $APP.Fq.l(["Coerce failure: cannot transform ",$APP.p(b)?"(implicit) true":["input ",$APP.Up.j($APP.G.g([a],0))].join(""),c instanceof $APP.B?" to ":" with ",$APP.q.h(c instanceof $APP.B?$APP.Ik(c):c)].join(""),new $APP.n(null,
2,[Ika,a,Jka,c],null),d);},Kka=function(a,b,c){var d=function(){switch(b instanceof $APP.B?b.va:null){case "boolean":case "bool":return l$;case "int":case "long":return Fka;case "double":return Gka;case "number":return m$;case "symbol":return $APP.Gl;case "keyword":return o$;case "string":return $APP.yf;case "edn":return $APP.lQ;case "auto":return p$;default:return b}}();if("string"===typeof a)try{var e=d.h?d.h(a):d.call(null,a)}catch(g){e=q$(a,c,b,g)}else e=a;d=e;return $APP.p($APP.p(c)?!0!==d:c)?
q$(a,c,b,null):d},r$=function(a,b,c){a=$APP.df.g(a,b);c=$APP.p(a)?a:$APP.Ce(c)?$APP.oe(c):null;return $APP.p(c)?$APP.Ce(c)?$APP.Ho.g($APP.Cg,c):c:null},s$=function(a,b,c,d){return $APP.xk.g(b,c)?(c=$APP.kf(a,b),$APP.p(c)?($APP.z.l(c,0,null),c=$APP.z.l(c,1,null),$APP.yk.l(a,b,$APP.p(d)?d.g?d.g(c,!0):d.call(null,c,!0):!0)):$APP.yk.l(a,b,$APP.p(d)?d.g?d.g(null,!0):d.call(null,null,!0):!0)):a},Lka=function(a,b,c,d,e,g){d=$APP.p($APP.p(d)?!$APP.Ce(d):d)?Kka(e,d,g):p$(e);return $APP.p(c)?$APP.ap.A(a,b,
c,d):$APP.yk.l(a,b,d)},Mka=function(a){return $APP.rf.l(function(b,c){var d=$APP.z.l(c,0,null);c=$APP.z.l(c,1,null);var e=$APP.qh(c),g=$APP.df.g(e,t$),k=$APP.df.g(e,u$);c=$APP.df.g(e,$APP.vw);var l=$APP.df.g(e,$APP.uO);e=$APP.df.g(e,v$);b=$APP.p(g)?$APP.ap.G(b,t$,$APP.yk,d,g):b;b=$APP.p(k)?$APP.ap.l(b,u$,function(m){if($APP.ff(m,k))throw $APP.Fq.g(["Conflicting alias ",$APP.q.h(k)," between ",$APP.q.h($APP.df.g(m,k))," and ",$APP.q.h(d)].join(""),new $APP.n(null,1,[u$,k],null));return $APP.yk.l(m,
k,d)}):b;b=$APP.p(l)?$APP.ap.l(b,$APP.uO,$APP.Ho.g(function(m){return $APP.Cg.g(m,d)},$APP.Ck)):b;b=$APP.p(e)?$APP.ap.G(b,v$,$APP.yk,d,e):b;return $APP.p(c)?$APP.ap.G(b,w$,$APP.yk,d,c):b},$APP.ph,a)},A$=function(a,b){b=$APP.qh(b);var c=$APP.df.g(b,x$);b=$APP.Vk(function(d){var e=$APP.p(c)?null:$APP.Rr(d,":");return!($APP.p(e)?e:$APP.Rr(d,"-"))},a);a=$APP.z.l(b,0,null);b=$APP.z.l(b,1,null);return new $APP.n(null,2,[y$,a,z$,b],null)},C$=function(a,b){if($APP.p(b))if($APP.w(a)){var c=$APP.be(a),d=$APP.eh(c,
b);c=c<d?c:d;a=new $APP.E(null,2,5,$APP.F,[$APP.M.g($APP.To.g(b,a),$APP.ci.g(c,a)),$APP.ci.g(c,b)],null)}else a=new $APP.E(null,2,5,$APP.F,[a,b],null);else a=new $APP.E(null,2,5,$APP.F,[a,b],null);b=a;a=$APP.z.l(b,0,null);b=$APP.z.l(b,1,null);return new $APP.n(null,2,[z$,a,B$,b],null)},L$=function(a,b,c,d,e){var g=n$(a),k="string"===typeof a?$APP.z.l(a,1,null):null,l;if(l=$APP.ce.g(g,"-")){try{var m=m$($APP.q.h(k))}catch(h){m=null}l=$APP.ab(m)}b=$APP.p(b)?b:l?D$:null;g=$APP.ce.g(":",g);c=$APP.xk.g(D$,
b)&&g&&($APP.ce.g(E$,d)||$APP.ab(c)||$APP.ce.g(e,c));d=$APP.p(b)?b:c?F$:null;a=l?$APP.p(k)?$APP.xk.g("-",k)&&2<$APP.be(a):k:null;return new $APP.n(null,5,[G$,d,H$,l,I$,a,J$,c,K$,g],null)},Qka=function(a,b){function c(rb){rb=$APP.yp.j($APP.G.g([new $APP.n(null,2,[M$,d,$APP.kr,N$],null),rb],0));return N.h?N.h(rb):N.call(null,rb)}var d=M$.h(b),e=$APP.p(d)?j$(b,$APP.G.g([Mka(d)],0)):b,g=t$.h(e),k=function(){var rb=u$.h(e);return $APP.p(rb)?rb:$APP.YA.h(e)}(),l=Nka.h(e),m=$APP.uO.h(e),h=w$.h(e),t=x$.h(e),
r=function(){var rb=O$.h(e);return $APP.p(rb)?rb:Oka.h(e)}(),v=$APP.Gk($APP.M.j($APP.tk($APP.Ie(d)?d:$APP.vj.g($APP.ph,d)),$APP.vk(k),$APP.G.g([$APP.tk(g)],0))),C=$APP.ce.g(!0,r)?v:null==r?null:$APP.Gk(r),I=v$.h(e),N=function(){var rb=Pka.h(e);return $APP.p(rb)?rb:function(Tb){Tb=$APP.qh(Tb);var Ac=$APP.df.g(Tb,P$);throw $APP.Fq.g(Ac,Tb);}}(),P=A$(a,null),S=$APP.qh(P),aa=$APP.df.g(S,y$),ca=$APP.df.g(S,z$),ia=function(){var rb=B$.h(e);rb=$APP.p(rb)?rb:Q$.h(e);return $APP.p(rb)?C$(aa,rb):new $APP.n(null,
2,[B$,null,z$,ca],null)}(),pa=$APP.qh(ia),da=$APP.df.g(pa,z$),H=$APP.df.g(pa,B$),D=$APP.xk.g(da,ca)?new $APP.E(null,2,5,$APP.F,[null,$APP.M.g(da,ca)],null):new $APP.E(null,2,5,$APP.F,[aa,ca],null),ba=$APP.z.l(D,0,null),K=$APP.z.l(D,1,null),O=function(){for(var rb=$APP.ph,Tb=null,Ac=null,we=$APP.p(t)?D$:null,id=$APP.w(K),tg=H;;){if($APP.ab(id))return new $APP.E(null,3,5,$APP.F,[rb,Tb,Ac],null);var Mf=$APP.x(id),Lc=Mf instanceof $APP.B;if(Lc){Tb=s$(rb,Tb,Ac,null);var $d=Mf;id=$APP.y(id);rb=Tb;Tb=$d}else{var hl=
!0===Mf,Bf=$APP.q.h(Mf);$d=r$(l,Tb,$APP.df.g(g,Tb));var wi=$APP.df.g(g,Tb),il=L$(Bf,we,Tb,wi,Ac),Hh=$APP.qh(il),jl=$APP.df.g(Hh,H$),Ih=$APP.df.g(Hh,I$),kl=$APP.df.g(Hh,J$),Cf=$APP.df.g(Hh,G$),ek=$APP.df.g(Hh,K$);if($APP.p(function(){var ye=jl;return $APP.p(ye)?ye:kl}())){var Rc=$APP.Rr(Bf,"--"),fk=Rc&&$APP.ce.g("--",Bf);if(fk){var ll=$APP.y(id);return new $APP.E(null,3,5,$APP.F,[function(){var ye=rb;return ll?$APP.Co.A(ye,$APP.Zo,new $APP.E(null,2,5,$APP.F,[N$,z$],null),$APP.tf(ll)):ye}(),Tb,Ac],
null)}var gk=Rc?$APP.bl.g(Bf,2):$APP.Xr(Bf,/^(:|-|)/,""),gf=Rc?$APP.es.g(gk,/=/):new $APP.E(null,1,5,$APP.F,[gk],null),Hd=$APP.z.l(gf,0,null),me=$APP.z.l(gf,1,null),Pb=$APP.vl.h(Hd),xc=$APP.df.l(k,Pb,Pb);if($APP.p(me))Ac=s$(rb,Tb,Ac,$d),Tb=xc,we=Cf,id=$APP.Fg(me,$APP.Ad(id)),rb=Ac,Ac=null;else{var xb=$APP.y(id),xe=$APP.x(xb),Qx=L$(xe,Cf,Tb,wi,Ac);if($APP.p(function(){var ye=H$.h(Qx);return $APP.p(ye)?ye:$APP.Be(xb)}()))if($APP.p(Ih)){var Rx=$APP.Ik(xc);Ac=$APP.mi.j(function(){return function(ye){return new $APP.E(null,
2,5,$APP.F,[["-",$APP.q.h(ye)].join(""),!0],null)}}(rb,Tb,Ac,we,id,tg,Rx,xb,xe,Qx,gk,gf,Hd,me,Pb,xc,Rc,fk,hl,Bf,$d,wi,il,Hh,jl,Ih,kl,Cf,ek,Mf,Lc,d,e,g,k,l,m,h,t,r,v,C,I,N,c,P,S,aa,ca,ia,pa,da,H,D,ba,K),$APP.G.g([Rx],0));id=$APP.M.g(Ac,xb);we=Cf;Ac=Tb=null}else id=$APP.ff(v,xc)?null:$APP.ms($APP.q.h(xc),":no-"),we=$APP.p(id)?$APP.vl.h($APP.Xr($APP.q.h(xc),":no-","")):xc,id=$APP.Fg($APP.ab(id),xb),Tb=s$(rb,Tb,Ac,$d),$d=we,we=Cf,rb=Tb,Tb=$d;else Tb=s$(rb,Tb,Ac,$d),$d=xc,we=Cf,id=xb,rb=Tb,Tb=$d}}else if(fk=
$APP.ce.g(E$,wi)&&$APP.xk.g(Bf,"true")&&$APP.xk.g(Bf,"false")||$APP.ce.g(Ac,Tb)&&$APP.ab($d))if(tg=$APP.p(id)?$APP.p(tg)?C$(id,tg):new $APP.n(null,1,[z$,id],null):new $APP.n(null,1,[z$,id],null),we=$APP.qh(tg),tg=$APP.df.g(we,z$),we=$APP.df.g(we,B$),$APP.xk.g(id,tg))$d=we,we=Cf,id=tg,tg=$d;else return new $APP.E(null,3,5,$APP.F,[$APP.Co.A(rb,$APP.Zo,new $APP.E(null,2,5,$APP.F,[N$,z$],null),$APP.tf(id)),Tb,Ac],null);else{try{var Od=Lka(rb,Tb,$d,Hka(wi),Bf,hl)}catch(ye){c(new $APP.n(null,4,[$APP.lr,
t$,P$,$APP.Gm(ye),R$,Tb,S$,Bf],null)),Od=rb}Ac=$APP.p(function(){var ye=$APP.ce.g(F$,Cf);return ye?ek:ye}())?null:Tb;$d=$APP.p(function(){var ye=$APP.ce.g(F$,Cf);return ye?ek:ye}())?null:Tb;we=Cf;id=$APP.y(id);rb=Od;Tb=Ac;Ac=$d}}}}(),fa=$APP.z.l(O,0,null),oa=$APP.z.l(O,1,null),la=$APP.z.l(O,2,null),qa=r$(l,oa,$APP.df.g(g,oa)),ta=function(){var rb=s$(fa,oa,la,qa);return $APP.w(ba)?$APP.Co.A(rb,$APP.$o,new $APP.E(null,2,5,$APP.F,[N$,z$],null),function(Tb){return $APP.vj.g($APP.tf(ba),Tb)}):rb}(),wa=
$APP.p(h)?$APP.ue($APP.yp.j($APP.G.g([h,ta],0)),$APP.ve(ta)):ta;if($APP.p(C)){a=$APP.w($APP.tk(wa));b=null;for(var xa=0,Aa=0;;)if(Aa<xa){var Ja=b.U(null,Aa);$APP.ff(C,Ja)||c(new $APP.n(null,4,[$APP.lr,O$,P$,["Unknown option: ",$APP.q.h(Ja)].join(""),O$,C,R$,Ja],null));Aa+=1}else if(a=$APP.w(a))b=a,$APP.Le(b)?(a=$APP.Tc(b),Aa=$APP.Uc(b),b=a,xa=$APP.be(a),a=Aa):(a=$APP.x(b),$APP.ff(C,a)||c(new $APP.n(null,4,[$APP.lr,O$,P$,["Unknown option: ",$APP.q.h(a)].join(""),O$,C,R$,a],null)),a=$APP.y(b),b=null,
xa=0),Aa=0;else break}if($APP.p(m))for(a=$APP.w(m),b=null,Aa=xa=0;;)if(Aa<xa)Ja=b.U(null,Aa),$APP.p($APP.kf(wa,Ja))||c(new $APP.n(null,4,[$APP.lr,$APP.uO,P$,["Required option: ",$APP.q.h(Ja)].join(""),$APP.uO,m,R$,Ja],null)),Aa+=1;else if(a=$APP.w(a))b=a,$APP.Le(b)?(a=$APP.Tc(b),Aa=$APP.Uc(b),b=a,xa=$APP.be(a),a=Aa):(a=$APP.x(b),$APP.p($APP.kf(wa,a))||c(new $APP.n(null,4,[$APP.lr,$APP.uO,P$,["Required option: ",$APP.q.h(a)].join(""),$APP.uO,m,R$,a],null)),a=$APP.y(b),b=null,xa=0),Aa=0;else break;
if($APP.p(I))for(var Ca=$APP.w(I),za=null,Qa=0,Ta=0;;)if(Ta<Qa){var cb=za.U(null,Ta),qb=$APP.z.l(cb,0,null),zb=$APP.z.l(cb,1,null),Sb=function(){var rb=(rb=$APP.Ie(zb))?T$.h(zb):rb;return $APP.p(rb)?rb:zb}(),kc=$APP.kf(wa,qb);if($APP.p(kc)){var Yc=kc,Ob=$APP.z.l(Yc,0,null),We=$APP.z.l(Yc,1,null);if(!$APP.p(Sb.h?Sb.h(We):Sb.call(null,We))){var ak=function(){var rb=U$.h(zb);return $APP.p(rb)?rb:function(){return function(Tb){var Ac=$APP.qh(Tb);Tb=$APP.df.g(Ac,R$);Ac=$APP.df.g(Ac,S$);return["Invalid value for option ",
$APP.q.h(Tb),": ",$APP.q.h(Ac)].join("")}}(Ca,za,Qa,Ta,rb,Yc,Ob,We,kc,Sb,cb,qb,zb,d,e,g,k,l,m,h,t,r,v,C,I,N,c,P,S,aa,ca,ia,pa,da,H,D,ba,K,O,fa,oa,la,qa,ta,wa)}();c(new $APP.n(null,5,[$APP.lr,v$,P$,function(){var rb=new $APP.n(null,2,[R$,qb,S$,We],null);return ak.h?ak.h(rb):ak.call(null,rb)}(),v$,I,R$,qb,S$,We],null))}}Ta+=1}else{var el=$APP.w(Ca);if(el){var ui=el;if($APP.Le(ui))xa=$APP.Tc(ui),a=$APP.Uc(ui),b=xa,xa=$APP.be(xa),Ca=a,za=b,Qa=xa;else{var bk=$APP.x(ui),ck=$APP.z.l(bk,0,null),fj=$APP.z.l(bk,
1,null),dk=function(){var rb=(rb=$APP.Ie(fj))?T$.h(fj):rb;return $APP.p(rb)?rb:fj}(),fl=$APP.kf(wa,ck);if($APP.p(fl)){var zc=fl,gj=$APP.z.l(zc,0,null),vi=$APP.z.l(zc,1,null);if(!$APP.p(dk.h?dk.h(vi):dk.call(null,vi))){var gl=function(){var rb=U$.h(fj);return $APP.p(rb)?rb:function(){return function(Tb){var Ac=$APP.qh(Tb);Tb=$APP.df.g(Ac,R$);Ac=$APP.df.g(Ac,S$);return["Invalid value for option ",$APP.q.h(Tb),": ",$APP.q.h(Ac)].join("")}}(Ca,za,Qa,Ta,rb,zc,gj,vi,fl,dk,bk,ck,fj,ui,el,d,e,g,k,l,m,h,t,
r,v,C,I,N,c,P,S,aa,ca,ia,pa,da,H,D,ba,K,O,fa,oa,la,qa,ta,wa)}();c(new $APP.n(null,5,[$APP.lr,v$,P$,function(){var rb=new $APP.n(null,2,[R$,ck,S$,vi],null);return gl.h?gl.h(rb):gl.call(null,rb)}(),v$,I,R$,ck,S$,vi],null))}}Ca=$APP.y(ui);za=null;Qa=0}Ta=0}else break}return wa},Rka=function(a,b){a=Qka(a,b);b=N$.h($APP.ve(a));return $APP.yk.l(b,$APP.nQ,$APP.Sn.g(a,N$))},Ska=function(a,b){var c=$APP.ii($APP.be(a),b);b=$APP.z.l(c,0,null);c=$APP.z.l(c,1,null);return $APP.ce.g(b,a)?c:null},V$=function(a,
b,c){return $APP.p(c)?esm_import$path.resolve(c,h$(a,b)):a},W$=function(a,b,c){var d=$APP.oQ.h(a),e=$APP.iQ.h(a);b=V$(b,e,d);c=$APP.kQ(c);d=null==c?null:V$(c,e,d);d=null==d?null:null==d?null:esm_import$path.relative(esm_import$path.dirname($APP.q.h(b)),d);return $APP.p(d)?(a=$APP.vQ.g(a,".mjs"),a=$APP.Rr(a,".")?a:[".",$APP.q.h(a)].join(""),e=esm_import$path.extname(d),["./",$APP.Xr(d,$APP.cl([$APP.q.h(e),"$"].join("")),a)].join("")):null},Tka=function(a,b,c,d){if($APP.p(a)){var e=esm_import$path.resolve(c,
h$(b,d));c=esm_import$path.dirname(e);if($APP.p($APP.Oh(function(g){return g instanceof $APP.B?$APP.Zk($APP.cl(["\\.",$APP.Ik(g),"$"].join("")),e):"string"===typeof g?$APP.Zk($APP.cl(g),e):null},a)))return $APP.p(esm_import$fs.existsSync(c))||($APP.Zp.j($APP.G.g(["[cherry] Creating directory:",c],0)),esm_import$fs.mkdirSync(c,{recursive:!0})),$APP.Zp.j($APP.G.g(["[cherry] Copying resource",b,"to",c],0)),esm_import$fs.copyFileSync(b,e)}return null},Z$=function(a,b){var c=$APP.cc($APP.jQ),d=$APP.yp.j($APP.G.g([c,
a],0)),e=$APP.iQ.h(c),g=Uka.h(c),k=$APP.oQ.g(c,".");a=$APP.Be(b)?$APP.tf($APP.mi.j(X$,$APP.G.g([e],0))):b;b=$APP.oQ.h(d);if($APP.p(b)&&"string"!==typeof b)throw Error("output-dir must be a string");return $APP.p(Y$.h(d))?($APP.Zp.j($APP.G.g(["Usage: squint compile \x3cfiles\x3e \x3copts\x3e"],0)),$APP.Zp(),$APP.Zp.j($APP.G.g(["Options:\n\n--elide-imports: do not include imports\n--elide-exports: do not include exports\n--extension: default extension for JS files\n--output-dir: output directory for JS files"],
0))):$APP.rf.l(function(l,m){return Promise.resolve(l).then(function(){return $APP.ff(new $APP.Bk(null,new $APP.n(null,2,[".cljc",null,".cljs",null],null),null),esm_import$path.extname(m))?($APP.Zp.j($APP.G.g(["[cherry] Compiling CLJS file:",m],0)),i$($APP.yk.j(d,$APP.qQ,m,$APP.G.g([$APP.MA,function(h){return W$(d,m,h)}],0)))):Tka(g,m,k,e)}).then(function(h){h=$APP.qh(h);h=$APP.df.g(h,$APP.tQ);$APP.p(h)&&$APP.Zp.j($APP.G.g(["[cherry] Wrote file:",h],0));return h})},null,a)},J$=new $APP.B(null,"kwd-opt",
"kwd-opt",1313309243),D$=new $APP.B(null,"hyphens","hyphens",2113533609),M$=new $APP.B(null,"spec","spec",347520401),t$=new $APP.B(null,"coerce","coerce",1917884504),O$=new $APP.B(null,"restrict","restrict",-1071101511),F$=new $APP.B(null,"keywords","keywords",1526959054),G$=new $APP.B(null,"mode","mode",654403691),P$=new $APP.B(null,"msg","msg",-1386103444),Vka=new $APP.B(null,"show","show",-576705889),E$=new $APP.B(null,"boolean","boolean",-1919418404),Ika=new $APP.B(null,"input","input",556931961),
$$=new $APP.B(null,"rest-cmds","rest-cmds",-423198324),N$=new $APP.B("org.babashka","cli","org.babashka/cli",1162430315),B$=new $APP.B(null,"args-\x3eopts","args-\x3eopts",964391046),u$=new $APP.B(null,"alias","alias",-2039751630),Nka=new $APP.B(null,"collect","collect",-284321549),v$=new $APP.B(null,"validate","validate",-201300827),I$=new $APP.B(null,"composite-opt","composite-opt",-2021292928),Wka=new $APP.B(null,"run","run",-1821166653),H$=new $APP.B(null,"hyphen-opt","hyphen-opt",1836909464),
Y$=new $APP.B(null,"help","help",-439233446),K$=new $APP.B(null,"fst-colon","fst-colon",1618567071),Jka=new $APP.B(null,"coerce-fn","coerce-fn",-821146515),z$=new $APP.B(null,"args","args",1315556576),x$=new $APP.B(null,"no-keyword-opts","no-keyword-opts",761286018),S$=new $APP.B(null,"value","value",305978217),Uka=new $APP.B(null,"copy-resources","copy-resources",-1367155536),T$=new $APP.B(null,"pred","pred",1927423397),Oka=new $APP.B(null,"closed","closed",-919675359),Pka=new $APP.B(null,"error-fn",
"error-fn",-171437615),R$=new $APP.B(null,"option","option",65132272),w$=new $APP.B(null,"exec-args","exec-args",-1860766354),U$=new $APP.B(null,"ex-msg","ex-msg",-1111774387),Eka=new $APP.B(null,"s","s",1705939918),Q$=new $APP.B(null,"cmds-opts","cmds-opts",-390130362),Xka=new $APP.B(null,"h","h",1109658740),Yka=new $APP.B(null,"e","e",1381269198),y$=new $APP.B(null,"cmds","cmds",-1841503952);var X$=function X$(a){var c=esm_import$fs.readdirSync(a);return $APP.tf($APP.mi.j(function(d){d=esm_import$path.resolve(a,d);return $APP.p(esm_import$fs.lstatSync(d).isDirectory())?X$.h?X$.h(d):X$.call(null,d):new $APP.E(null,1,5,$APP.F,[d],null)},$APP.G.g([c],0)))},Zka=new $APP.E(null,3,5,$APP.F,[new $APP.n(null,3,[y$,new $APP.E(null,1,5,$APP.F,["run"],null),$APP.iy,function(a){a=$APP.qh(a);a=$APP.df.g(a,$APP.nQ);var b=$APP.cc($APP.jQ),c=$APP.yp.j($APP.G.g([b,a],0));a=$APP.qh(c);var d=$APP.df.g(a,
$APP.Vt);a=$APP.df.g(a,Y$);if($APP.p(a))return null;$APP.Zp.j($APP.G.g(["[cherry] Running",d],0));return i$($APP.yk.j(c,$APP.qQ,d,$APP.G.g([$APP.MA,function(e){return W$(c,d,e)}],0))).then(function(e){e=$APP.qh(e);e=$APP.df.g(e,$APP.tQ);e=$APP.p(esm_import$path.isAbsolute(e))?e:esm_import$path.resolve(process.cwd(),e);e=$APP.q.h(esm_import$url.pathToFileURL(e));return shadow_esm_import(e)})},Q$,new $APP.E(null,1,5,$APP.F,[$APP.Vt],null)],null),new $APP.n(null,2,[y$,new $APP.E(null,1,5,$APP.F,["compile"],
null),$APP.iy,function(a){var b=$APP.qh(a);a=$APP.df.g(b,$APP.nQ);b=$APP.df.g(b,$$);return Z$(a,b)}],null),new $APP.n(null,2,[y$,$APP.ri,$APP.iy,function(a){a=$APP.qh(a);var b=$APP.df.g(a,$$),c=$APP.df.g(a,$APP.nQ);a=Yka.h(c);if($APP.p(a)){if($APP.p(Y$.h(c)))return $APP.Zp.j($APP.G.g(["Usage: squint -e \x3cexpr\x3e \x3copts\x3e\n\nOptions:\n\n--no-run: do not run compiled expression\n--show:   print compiled expression"],0));a=$APP.p($APP.yz.h(c))?$APP.Xr("(do %s\n)","%s",a):a;a=$APP.gQ.g(a,$APP.yk.j(c,
$APP.yz,$APP.yz.h(c),$APP.G.g([$APP.WA,$APP.am.h(new $APP.n(null,1,[$APP.dy,$APP.fG],null)),$APP.lz,$APP.p($APP.yz.h(c))?$APP.qz:$APP.rz,$APP.YB,$APP.yz.h(c)],0)));a=$APP.p($APP.yz.h(c))?$APP.Xr("(async function() { %s })()","%s",a):a;var d=esm_import$fs.mkdtempSync(".tmp"),e=[$APP.q.h(d),"/squint.mjs"].join("");esm_import$fs.writeFileSync(e,a,"utf-8");$APP.p(Vka.h(c))&&$APP.Zp.j($APP.G.g([a],0));if(!1===Wka.h(c))return null;e=$APP.p(esm_import$path.isAbsolute(e))?e:[$APP.q.h(process.cwd()),"/",e].join("");
return($APP.p($APP.yz.h(c))?Promise.resolve(eval(a)):shadow_esm_import(e)).then(function(g){return $APP.p($APP.yz.h(c))?$APP.aq.j($APP.G.g([g],0)):null}).finally(function(){return esm_import$fs.rmSync(d,{force:!0,recursive:!0})})}return $APP.p(function(){var g=Y$.h(c);return $APP.p(g)?g:$APP.ce.g("help",$APP.x(b))||$APP.Be(b)}())?$APP.Zp.j($APP.G.g(["Cherry v0.0.0\n\nUsage:\n\nrun       \x3cfile.cljs\x3e     Compile and run a file\ncompile   \x3cfile.cljs\x3e ... Compile file(s)\nhelp                      Print this help"],
0)):Z$(c,b)}],null)],null);(function(){var a=new $APP.n(null,1,[$APP.YA,new $APP.n(null,1,[Xka,Y$],null)],null),b=A$(process.argv.slice(2),a),c=$APP.qh(b),d=$APP.df.g(c,y$),e=$APP.df.g(c,z$);return $APP.rf.l(function(g,k){g=$APP.qh(k);var l=$APP.df.g(g,y$),m=$APP.df.g(g,$APP.iy),h=Ska(l,d);if($APP.p(h)){k=function(){var v=null==h?null:$APP.w(h);return null==v?null:$APP.tf(v)}();k=$APP.M.g(k,e);g=Rka(k,j$(a,$APP.G.g([g],0)));k=$APP.qh(g);var t=$APP.df.g(k,$APP.nQ);g=$APP.df.g(k,z$);k=$APP.df.g(k,y$);var r=$APP.M.g(k,g);return $APP.Pd(function(){var v=
$APP.yk.j(c,z$,r,$APP.G.g([$$,r,$APP.nQ,t,$APP.Iy,l],0));return m.h?m.h(v):m.call(null,v)}())}return null},null,Zka)})();